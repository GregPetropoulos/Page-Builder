{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import pageServices from'../services/pages';import download from'downloadjs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PageCard=function PageCard(_ref){var thumbnail=_ref.thumbnail,name=_ref.name,id=_ref.id;var _useState=useState(\"https://via.placeholder.com/200\"),_useState2=_slicedToArray(_useState,2),thumbnailSrc=_useState2[0],setThumbnailSrc=_useState2[1];useEffect(function(){console.log('thumbnail',thumbnail);import(\"../images/\".concat(thumbnail)).then(function(mod){return setThumbnailSrc(mod.default);});},[thumbnail]);var handleDownload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return pageServices.downloadPage(id);case 2:response=_context.sent;download(response.data,\"\".concat(name,\".html\"));case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleDownload(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between template-wrapper border p-2 rounded bg-gray-800 rounded-md\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid object-scale-down\",src:thumbnailSrc,alt:\"thumbnail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"template-title text-center\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-center\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",href:\"/page/\".concat(id),children:\"View\"}),/*#__PURE__*/_jsxs(\"a\",{className:\"ml-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",onClick:function onClick(){return handleDownload(id);},children:[/*#__PURE__*/_jsx(\"svg\",{className:\"fill-current w-4 h-4 mr-2\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Download\"})]})]})]})]});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/components/PageCard.js"],"names":["useEffect","useState","pageServices","download","PageCard","thumbnail","name","id","thumbnailSrc","setThumbnailSrc","console","log","then","mod","default","handleDownload","downloadPage","response","data"],"mappings":"ijBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA6B,IAA1BC,CAAAA,SAA0B,MAA1BA,SAA0B,CAAfC,IAAe,MAAfA,IAAe,CAATC,EAAS,MAATA,EAAS,CACpD,cAAwCN,QAAQ,CAAC,iCAAD,CAAhD,wCAAOO,YAAP,eAAqBC,eAArB,eACAT,SAAS,CAAC,UAAM,CACfU,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBN,SAAzB,EACA,2BAAoBA,SAApB,GAAiCO,IAAjC,CAAsC,SAAAC,GAAG,QACxCJ,CAAAA,eAAe,CAACI,GAAG,CAACC,OAAL,CADyB,EAAzC,EAGA,CALQ,CAKN,CAACT,SAAD,CALM,CAAT,CAOA,GAAMU,CAAAA,cAAc,2FAAG,iBAAMR,EAAN,qJACCL,CAAAA,YAAY,CAACc,YAAb,CAA0BT,EAA1B,CADD,QAChBU,QADgB,eAEtBd,QAAQ,CAACc,QAAQ,CAACC,IAAV,WAAmBZ,IAAnB,UAAR,CAFsB,sDAAH,kBAAdS,CAAAA,cAAc,6CAApB,CAKA,mBACC,aAAK,SAAS,CAAC,uGAAf,wBACC,YACC,SAAS,CAAC,6BADX,CAEC,GAAG,CAAEP,YAFN,CAGC,GAAG,CAAC,WAHL,EADD,cAMC,aAAK,SAAS,CAAC,oBAAf,wBACC,UAAG,SAAS,CAAC,4BAAb,UAA2CF,IAA3C,EADD,cAEC,aAAK,SAAS,CAAC,wCAAf,wBACC,UAAG,SAAS,CAAC,kGAAb,CAAgH,IAAI,iBAAWC,EAAX,CAApH,kBADD,cAIC,WAAG,SAAS,CAAC,uGAAb,CAAqH,OAAO,CAAE,yBAAMQ,CAAAA,cAAc,CAACR,EAAD,CAApB,EAA9H,wBACC,YAAK,SAAS,CAAC,2BAAf,CAA2C,KAAK,CAAC,4BAAjD,CAA8E,OAAO,CAAC,WAAtF,uBAAkG,aAAM,CAAC,CAAC,2CAAR,EAAlG,EADD,cAEC,kCAFD,GAJD,GAFD,GAND,GADD,CAqBA,CAnCM","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport pageServices from '../services/pages';\r\nimport download from 'downloadjs'\r\n\r\nexport const PageCard = ({ thumbnail, name, id }) => {\r\n\tconst [thumbnailSrc, setThumbnailSrc] = useState(\"https://via.placeholder.com/200\");\r\n\tuseEffect(() => {\r\n\t\tconsole.log('thumbnail', thumbnail)\r\n\t\timport(`../images/${thumbnail}`).then(mod =>\r\n\t\t\tsetThumbnailSrc(mod.default)\r\n\t\t);\r\n\t}, [thumbnail]);\r\n\r\n\tconst handleDownload = async id => {\r\n\t\tconst response = await pageServices.downloadPage(id)\r\n\t\tdownload(response.data, `${name}.html`);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex flex-column justify-content-between template-wrapper border p-2 rounded bg-gray-800 rounded-md\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"img-fluid object-scale-down\"\r\n\t\t\t\tsrc={thumbnailSrc}\r\n\t\t\t\talt=\"thumbnail\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"d-flex flex-column\">\r\n\t\t\t\t<p className=\"template-title text-center\">{name}</p>\r\n\t\t\t\t<div className=\"d-flex flex-row justify-content-center\">\r\n\t\t\t\t\t<a className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" href={`/page/${id}`}>\r\n\t\t\t\t\t\tView\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"ml-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" onClick={() => handleDownload(id)}>\r\n\t\t\t\t\t\t<svg className=\"fill-current w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/></svg>\r\n\t\t\t\t\t\t<span>Download</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}