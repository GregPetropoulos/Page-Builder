{"ast":null,"code":"import _objectSpread from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{useEffect,useState}from'react';import{Bar}from'react-chartjs-2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/stats');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var options={scales:{yAxes:[{ticks:{beginAtZero:true}}]}};export var Statistics=function Statistics(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),stats=_useState2[0],setStats=_useState2[1];var _useState3=useState({labels:['Loading...','Loading...','Loading...','Loading...','Loading...','Loading...'],datasets:[{label:'Average pages per user',data:[12,19,3,5,2,3],backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)','rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)','rgba(255, 159, 64, 0.2)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(15, 37, 66, 1)'],borderWidth:1}]}),_useState4=_slicedToArray(_useState3,2),chartData=_useState4[0],setChartData=_useState4[1];useEffect(function(){fetchData().then(function(data){setStats(data);setChartData(function(prev){return _objectSpread(_objectSpread({},prev),{},{labels:data.pagesStats.labels,datasets:[_objectSpread(_objectSpread({},prev.datasets[0]),{},{data:data.pagesStats.averagePages})]});});});},[setStats,setChartData]);return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:100,margin:'0 auto',padding:16,display:'flex',flexDirection:'column',height:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:16,justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',maxWidth:200,width:'100%',display:'flex',flexDirection:'column',alignItems:'center',padding:16,borderRadius:4,boxShadow:'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18,fontWeight:'bold'},children:\"Accounts Created\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:17,color:'#0f2542'},children:stats.accountsCreated?stats.accountsCreated:'Loading...'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',maxWidth:200,width:'100%',display:'flex',flexDirection:'column',alignItems:'center',padding:16,borderRadius:4,boxShadow:'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18,fontWeight:'bold'},children:\"Pages Created\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:17,color:'#0f2542'},children:stats.pagesCreated?stats.pagesCreated:'Loading...'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',maxWidth:200,width:'100%',display:'flex',flexDirection:'column',alignItems:'center',padding:16,borderRadius:4,boxShadow:'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18,fontWeight:'bold'},children:\"Page Visits\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:17,color:'#0f2542'},children:stats.pageVisits>=0?stats.pageVisits:'Loading...'})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:700,height:300,margin:'64px auto'},children:/*#__PURE__*/_jsx(Bar,{data:chartData,options:options,width:700,height:300})})]});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/pages/Statistics.js"],"names":["axios","useEffect","useState","Bar","fetchData","get","data","options","scales","yAxes","ticks","beginAtZero","Statistics","stats","setStats","labels","datasets","label","backgroundColor","borderColor","borderWidth","chartData","setChartData","then","prev","pagesStats","averagePages","minHeight","margin","padding","display","flexDirection","height","gap","justifyContent","background","maxWidth","width","alignItems","borderRadius","boxShadow","fontSize","fontWeight","color","accountsCreated","pagesCreated","pageVisits"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\n\nconst fetchData = async () => {\n\tconst { data } = await axios.get('/api/stats');\n\treturn data;\n};\n\nconst options = {\n\tscales: {\n\t\tyAxes: [\n\t\t\t{\n\t\t\t\tticks: {\n\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n};\n\nexport const Statistics = () => {\n\tconst [stats, setStats] = useState({});\n\tconst [chartData, setChartData] = useState({\n\t\tlabels: [\n\t\t\t'Loading...',\n\t\t\t'Loading...',\n\t\t\t'Loading...',\n\t\t\t'Loading...',\n\t\t\t'Loading...',\n\t\t\t'Loading...',\n\t\t],\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: 'Average pages per user',\n\t\t\t\tdata: [12, 19, 3, 5, 2, 3],\n\t\t\t\tbackgroundColor: [\n\t\t\t\t\t'rgba(255, 99, 132, 0.2)',\n\t\t\t\t\t'rgba(54, 162, 235, 0.2)',\n\t\t\t\t\t'rgba(255, 206, 86, 0.2)',\n\t\t\t\t\t'rgba(75, 192, 192, 0.2)',\n\t\t\t\t\t'rgba(153, 102, 255, 0.2)',\n\t\t\t\t\t'rgba(255, 159, 64, 0.2)',\n\t\t\t\t],\n\t\t\t\tborderColor: [\n\t\t\t\t\t'rgba(255, 99, 132, 1)',\n\t\t\t\t\t'rgba(54, 162, 235, 1)',\n\t\t\t\t\t'rgba(255, 206, 86, 1)',\n\t\t\t\t\t'rgba(75, 192, 192, 1)',\n\t\t\t\t\t'rgba(153, 102, 255, 1)',\n\t\t\t\t\t'rgba(15, 37, 66, 1)',\n\t\t\t\t],\n\t\t\t\tborderWidth: 1,\n\t\t\t},\n\t\t],\n\t});\n\n\tuseEffect(() => {\n\t\tfetchData().then(data => {\n\t\t\tsetStats(data);\n\t\t\tsetChartData(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tlabels: data.pagesStats.labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\t...prev.datasets[0],\n\t\t\t\t\t\tdata: data.pagesStats.averagePages,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}));\n\t\t});\n\t}, [setStats, setChartData]);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tminHeight: 100,\n\t\t\t\tmargin: '0 auto',\n\t\t\t\tpadding: 16,\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\theight: '100vh'\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tgap: 16,\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\tmaxWidth: 200,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tboxShadow: 'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 18,\n\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tAccounts Created\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 17,\n\t\t\t\t\t\t\tcolor: '#0f2542',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{stats.accountsCreated\n\t\t\t\t\t\t\t? stats.accountsCreated\n\t\t\t\t\t\t\t: 'Loading...'}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\tmaxWidth: 200,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tboxShadow: 'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 18,\n\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tPages Created\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 17,\n\t\t\t\t\t\t\tcolor: '#0f2542',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{stats.pagesCreated ? stats.pagesCreated : 'Loading...'}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\tmaxWidth: 200,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tboxShadow: 'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 18,\n\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tPage Visits\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 17,\n\t\t\t\t\t\t\tcolor: '#0f2542',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{stats.pageVisits >= 0\n\t\t\t\t\t\t\t? stats.pageVisits\n\t\t\t\t\t\t\t: 'Loading...'}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: 700,\n\t\t\t\t\theight: 300,\n\t\t\t\t\tmargin: '64px auto',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Bar\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\toptions={options}\n\t\t\t\t\twidth={700}\n\t\t\t\t\theight={300}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}