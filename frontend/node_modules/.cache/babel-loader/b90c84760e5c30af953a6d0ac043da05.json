{"ast":null,"code":"import _objectSpread from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/React.createContext();var localUser=JSON.parse(localStorage.getItem('user'));export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(localUser||null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var auth=function auth(userData){console.log('SETTING USER',userData);var user=_objectSpread({id:userData._id,email:userData.email,avatar:userData.avatar},userData.profile);localStorage.setItem('user',JSON.stringify(user));setCurrentUser(user);};var signOut=function signOut(){console.log('here');localStorage.removeItem('user');setCurrentUser({});window.location.reload();};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser:currentUser,auth:auth,signOut:signOut},children:children});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/context/AuthContext.js"],"names":["React","useState","AuthContext","createContext","localUser","JSON","parse","localStorage","getItem","AuthProvider","children","currentUser","setCurrentUser","auth","userData","console","log","user","id","_id","email","avatar","profile","setItem","stringify","signOut","removeItem","window","location","reload"],"mappings":"uXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,2CAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGF,KAAK,CAACG,aAAN,EAApB,CAEP,GAAMC,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAlB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC5C,cAAsCT,QAAQ,CAACG,SAAS,EAAI,IAAd,CAA9C,wCAAOO,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,QAAD,CAAc,CACzBC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BF,QAA5B,EACA,GAAMG,CAAAA,IAAI,gBAAKC,EAAE,CAAEJ,QAAQ,CAACK,GAAlB,CAAuBC,KAAK,CAAEN,QAAQ,CAACM,KAAvC,CAA8CC,MAAM,CAACP,QAAQ,CAACO,MAA9D,EAAyEP,QAAQ,CAACQ,OAAlF,CAAV,CACAf,YAAY,CAACgB,OAAb,CAAqB,MAArB,CAA6BlB,IAAI,CAACmB,SAAL,CAAeP,IAAf,CAA7B,EACAL,cAAc,CAACK,IAAD,CAAd,CACD,CALD,CAOA,GAAMQ,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBV,OAAO,CAACC,GAAR,CAAY,MAAZ,EACAT,YAAY,CAACmB,UAAb,CAAwB,MAAxB,EACAd,cAAc,CAAC,EAAD,CAAd,CACAe,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CALD,CAOA,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAElB,WAAW,CAAXA,WAAF,CAAeE,IAAI,CAAJA,IAAf,CAAqBY,OAAO,CAAPA,OAArB,CAA7B,UACGf,QADH,EADF,CAKD,CAtBM","sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nconst localUser = JSON.parse(localStorage.getItem('user'))\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(localUser || null);\r\n\r\n  const auth = (userData) => {\r\n    console.log('SETTING USER', userData);\r\n    const user = { id: userData._id, email: userData.email, avatar:userData.avatar, ...userData.profile };\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    setCurrentUser(user);\r\n  };\r\n\r\n  const signOut = () => {\r\n    console.log('here')\r\n    localStorage.removeItem('user');\r\n    setCurrentUser({});\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ currentUser, auth, signOut }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}