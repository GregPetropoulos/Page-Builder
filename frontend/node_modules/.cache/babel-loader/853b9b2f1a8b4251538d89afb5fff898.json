{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useState}from'react';import{AuthContext}from'../context/AuthContext';import accountService from'../services/account';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Register=function Register(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useContext=useContext(AuthContext),auth=_useContext.auth;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ev){var _ev$target$elements,emailInput,passwordInput,confirmPasswordInput,email,password,confirmedPassword,userInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_ev$target$elements=_slicedToArray(ev.target.elements,3),emailInput=_ev$target$elements[0],passwordInput=_ev$target$elements[1],confirmPasswordInput=_ev$target$elements[2];email=emailInput.value;password=passwordInput.value;confirmedPassword=confirmPasswordInput.value;if(!(email.length>0&&password.length>0&&confirmedPassword.length>0)){_context.next=16;break;}if(!(password===confirmedPassword)){_context.next=13;break;}_context.next=9;return accountService.ApiRegister(email,password);case 9:userInfo=_context.sent;if(userInfo.error){setError(userInfo.error);}else{auth(userInfo);}_context.next=14;break;case 13:setError('Passwords do not match');case 14:_context.next=17;break;case 16:setError('Email or password too short');case 17:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"p-5 container\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"registerEmail\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"registerEmail\",\"aria-describedby\":\"emailHelpRegister\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelpRegister\",className:\"form-text text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"registerPassword\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"registerPassword\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"registerConfirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"registerConfirmPassword\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-center\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Register\"})})]});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/components/Register.js"],"names":["useContext","useState","AuthContext","accountService","Register","error","setError","auth","handleSubmit","ev","preventDefault","target","elements","emailInput","passwordInput","confirmPasswordInput","email","value","password","confirmedPassword","length","ApiRegister","userInfo"],"mappings":"ijBAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,qBAA3B,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC7B,cAA0BH,QAAQ,CAAC,IAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eAEA,gBAAiBN,UAAU,CAACE,WAAD,CAA3B,CAAQK,IAAR,aAAQA,IAAR,CACA,GAAMC,CAAAA,YAAY,0FAAG,iBAAMC,EAAN,kOACpBA,EAAE,CAACC,cAAH,GADoB,mCAGnBD,EAAE,CAACE,MAAH,CAAUC,QAHS,IAEbC,UAFa,wBAEDC,aAFC,wBAEcC,oBAFd,wBAIdC,KAJc,CAINH,UAAU,CAACI,KAJL,CAKdC,QALc,CAKHJ,aAAa,CAACG,KALX,CAMdE,iBANc,CAMMJ,oBAAoB,CAACE,KAN3B,MAQnBD,KAAK,CAACI,MAAN,CAAe,CAAf,EACAF,QAAQ,CAACE,MAAT,CAAkB,CADlB,EAEAD,iBAAiB,CAACC,MAAlB,CAA2B,CAVR,gCAYfF,QAAQ,GAAKC,iBAZE,iDAaKhB,CAAAA,cAAc,CAACkB,WAAf,CACtBL,KADsB,CAEtBE,QAFsB,CAbL,QAaZI,QAbY,eAiBlB,GAAIA,QAAQ,CAACjB,KAAb,CAAoB,CACnBC,QAAQ,CAACgB,QAAQ,CAACjB,KAAV,CAAR,CACA,CAFD,IAEO,CACNE,IAAI,CAACe,QAAD,CAAJ,CACA,CArBiB,+BAuBlBhB,QAAQ,CAAC,wBAAD,CAAR,CAvBkB,uCA0BnBA,QAAQ,CAAC,6BAAD,CAAR,CA1BmB,uDAAH,kBAAZE,CAAAA,YAAY,4CAAlB,CA8BA,mBACC,cAAM,SAAS,CAAC,eAAhB,CAAgC,QAAQ,CAAEA,YAA1C,wBACC,aAAK,SAAS,CAAC,YAAf,wBACC,cAAO,OAAO,CAAC,eAAf,2BADD,cAEC,cACC,IAAI,CAAC,OADN,CAEC,SAAS,CAAC,cAFX,CAGC,EAAE,CAAC,eAHJ,CAIC,mBAAiB,mBAJlB,CAKC,WAAW,CAAC,aALb,EAFD,cASC,cAAO,EAAE,CAAC,mBAAV,CAA8B,SAAS,CAAC,sBAAxC,4DATD,GADD,cAcC,aAAK,SAAS,CAAC,YAAf,wBACC,cAAO,OAAO,CAAC,kBAAf,sBADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,SAAS,CAAC,cAFX,CAGC,EAAE,CAAC,kBAHJ,CAIC,WAAW,CAAC,UAJb,EAFD,GAdD,cAuBC,aAAK,SAAS,CAAC,YAAf,wBACC,cAAO,OAAO,CAAC,yBAAf,8BADD,cAIC,cACC,IAAI,CAAC,UADN,CAEC,SAAS,CAAC,cAFX,CAGC,EAAE,CAAC,yBAHJ,CAIC,WAAW,CAAC,UAJb,EAJD,GAvBD,cAkCC,UAAG,SAAS,CAAC,yBAAb,UAAwCH,KAAxC,EAlCD,cAmCC,YAAK,SAAS,CAAC,+BAAf,uBACC,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,sBADD,EAnCD,GADD,CA2CA,CA7EM","sourcesContent":["import { useContext, useState } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport accountService from '../services/account';\r\n\r\nexport const Register = () => {\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst { auth } = useContext(AuthContext);\r\n\tconst handleSubmit = async ev => {\r\n\t\tev.preventDefault();\r\n\t\tconst [emailInput, passwordInput, confirmPasswordInput] =\r\n\t\t\tev.target.elements;\r\n\t\tconst email = emailInput.value;\r\n\t\tconst password = passwordInput.value;\r\n\t\tconst confirmedPassword = confirmPasswordInput.value;\r\n\t\tif (\r\n\t\t\temail.length > 0 &&\r\n\t\t\tpassword.length > 0 &&\r\n\t\t\tconfirmedPassword.length > 0\r\n\t\t) {\r\n\t\t\tif (password === confirmedPassword) {\r\n\t\t\t\tconst userInfo = await accountService.ApiRegister(\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword\r\n\t\t\t\t);\r\n\t\t\t\tif (userInfo.error) {\r\n\t\t\t\t\tsetError(userInfo.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tauth(userInfo);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetError('Passwords do not match');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetError('Email or password too short');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"p-5 container\" onSubmit={handleSubmit}>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label htmlFor=\"registerEmail\">Email address</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tid=\"registerEmail\"\r\n\t\t\t\t\taria-describedby=\"emailHelpRegister\"\r\n\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t/>\r\n\t\t\t\t<small id=\"emailHelpRegister\" className=\"form-text text-muted\">\r\n\t\t\t\t\tWe'll never share your email with anyone else.\r\n\t\t\t\t</small>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label htmlFor=\"registerPassword\">Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tid=\"registerPassword\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label htmlFor=\"registerConfirmPassword\">\r\n\t\t\t\t\tConfirm Password\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\tid=\"registerConfirmPassword\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<p className=\"text-danger text-center\">{error}</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}