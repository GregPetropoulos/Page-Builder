{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext}from'react';import{AuthContext}from'../context/AuthContext';import accountServices from'../services/account';import{jsx as _jsx}from\"react/jsx-runtime\";export var DeleteAccount=function DeleteAccount(props){var _useContext=useContext(AuthContext),signOut=_useContext.signOut;var id=props.userId;var handleDeleted=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('handleDeleted');console.log('user',localStorage.user);_context.prev=2;console.log('user ww',localStorage.user);_context.next=6;return accountServices.ApiDeleteUser(id);case 6:signOut();// console.log('user', localStorage.user)\n// localStorage.removeItem('user')\nwindow.location.reload();// console.log('deleted', response)\n// props.signOutFunc();\n_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error({error:_context.t0});case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleDeleted(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-700 focus:outline-none transition duration-150 ease-in-out hover:bg-yellow-600 rounded text-white px-8 py-2 text-sm ml-3\",onClick:handleDeleted,type:\"submit\",children:\"Delete Account\"});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/components/DeleteAccount.js"],"names":["React","useContext","AuthContext","accountServices","DeleteAccount","props","signOut","id","userId","handleDeleted","console","log","localStorage","user","ApiDeleteUser","window","location","reload","error"],"mappings":"qXAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,MAAOC,CAAAA,eAAP,KAA4B,qBAA5B,C,2CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CACtC,gBAAoBJ,UAAU,CAACC,WAAD,CAA9B,CAAQI,OAAR,aAAQA,OAAR,CACA,GAAMC,CAAAA,EAAE,CAAGF,KAAK,CAACG,MAAjB,CAEA,GAAMC,CAAAA,aAAa,0FAAG,mIACpBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBC,YAAY,CAACC,IAAjC,EAFoB,gBAIlBH,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBC,YAAY,CAACC,IAApC,EAJkB,sBAKZV,CAAAA,eAAe,CAACW,aAAhB,CAA8BP,EAA9B,CALY,QAMlBD,OAAO,GACP;AACA;AACAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACA;AACA;AAXkB,iFAalBP,OAAO,CAACQ,KAAR,CAAc,CAAEA,KAAK,YAAP,CAAd,EAbkB,qEAAH,kBAAbT,CAAAA,aAAa,0CAAnB,CAgBA,mBACE,eACE,SAAS,CAAC,iIADZ,CAEE,OAAO,CAAEA,aAFX,CAGE,IAAI,CAAC,QAHP,4BADF,CASD,CA7BM","sourcesContent":["import React, { useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport accountServices from '../services/account';\n\nexport const DeleteAccount = (props) => {\n  const { signOut } = useContext(AuthContext);\n  const id = props.userId;\n\n  const handleDeleted = async () => {\n    console.log('handleDeleted');\n    console.log('user', localStorage.user);\n    try {\n      console.log('user ww', localStorage.user);\n      await accountServices.ApiDeleteUser(id);\n      signOut();\n      // console.log('user', localStorage.user)\n      // localStorage.removeItem('user')\n      window.location.reload();\n      // console.log('deleted', response)\n      // props.signOutFunc();\n    } catch (error) {\n      console.error({ error });\n    }\n  };\n  return (\n    <button\n      className='bg-red-700 focus:outline-none transition duration-150 ease-in-out hover:bg-yellow-600 rounded text-white px-8 py-2 text-sm ml-3'\n      onClick={handleDeleted}\n      type='submit'\n    >\n      Delete Account\n    </button>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}