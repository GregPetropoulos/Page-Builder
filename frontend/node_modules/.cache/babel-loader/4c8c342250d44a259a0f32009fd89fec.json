{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useState}from'react';import{AuthContext}from'../context/AuthContext';import accountService from'../services/account';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useContext=useContext(AuthContext),auth=_useContext.auth;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ev){var _ev$target$elements,emailInput,passwordInput,email,password,userInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_ev$target$elements=_slicedToArray(ev.target.elements,2),emailInput=_ev$target$elements[0],passwordInput=_ev$target$elements[1];email=emailInput.value;password=passwordInput.value;if(!(email.length>0&&password.length>0)){_context.next=11;break;}_context.next=7;return accountService.ApiLogin({email:email,password:password});case 7:userInfo=_context.sent;if(userInfo.error){setError(userInfo.error);}else{auth(userInfo);}_context.next=12;break;case 11:setError('Email or password too short');case 12:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 h-full\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center font-black pb-2\",children:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"loginEmail\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"loginEmail\",placeholder:\"Enter email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"loginPassword\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",id:\"loginPassword\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-center\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Login\"})})]});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/components/Login.js"],"names":["useContext","useState","AuthContext","accountService","Login","auth","error","setError","handleSubmit","ev","preventDefault","target","elements","emailInput","passwordInput","email","value","password","length","ApiLogin","userInfo"],"mappings":"ijBAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,wBAA5B,CAEA,MAAOC,CAAAA,cAAP,KAA2B,qBAA3B,C,wFAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAC1B,gBAAiBJ,UAAU,CAACE,WAAD,CAA3B,CAAQG,IAAR,aAAQA,IAAR,CACA,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,YAAY,0FAAG,iBAAMC,EAAN,2LACpBA,EAAE,CAACC,cAAH,GADoB,mCAEgBD,EAAE,CAACE,MAAH,CAAUC,QAF1B,IAEbC,UAFa,wBAEDC,aAFC,wBAGdC,KAHc,CAGNF,UAAU,CAACG,KAHL,CAIdC,QAJc,CAIHH,aAAa,CAACE,KAJX,MAKhBD,KAAK,CAACG,MAAN,CAAe,CAAf,EAAoBD,QAAQ,CAACC,MAAT,CAAkB,CALtB,iDAMIf,CAAAA,cAAc,CAACgB,QAAf,CAAwB,CAAEJ,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CAAxB,CANJ,QAMbG,QANa,eAOnB,GAAIA,QAAQ,CAACd,KAAb,CAAoB,CACnBC,QAAQ,CAACa,QAAQ,CAACd,KAAV,CAAR,CACA,CAFD,IAEO,CACND,IAAI,CAACe,QAAD,CAAJ,CACA,CAXkB,+BAanBb,QAAQ,CAAC,6BAAD,CAAR,CAbmB,uDAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAiBA,mBACC,cAAM,SAAS,CAAC,uDAAhB,CAAwE,QAAQ,CAAEA,YAAlF,wBACC,WAAI,SAAS,CAAC,6BAAd,mBADD,cAEC,aAAK,SAAS,CAAC,MAAf,wBACC,cAAO,OAAO,CAAC,YAAf,CAA4B,SAAS,CAAC,4CAAtC,2BADD,cAEC,cACC,IAAI,CAAC,OADN,CAEC,SAAS,CAAC,4HAFX,CAGC,EAAE,CAAC,YAHJ,CAIC,WAAW,CAAC,aAJb,EAFD,GAFD,cAWC,aAAK,SAAS,CAAC,MAAf,wBACC,cAAO,OAAO,CAAC,eAAf,CAA+B,SAAS,CAAC,4CAAzC,sBADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,SAAS,CAAC,gJAFX,CAGC,EAAE,CAAC,eAHJ,CAIC,WAAW,CAAC,UAJb,EAFD,GAXD,cAoBC,UAAG,SAAS,CAAC,yBAAb,UAAwCF,KAAxC,EApBD,cAqBC,YAAK,SAAS,CAAC,mCAAf,uBACC,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,8GAAhC,mBADD,EArBD,GADD,CA6BA,CAjDM","sourcesContent":["import { useContext, useState } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nimport accountService from '../services/account';\r\n\r\nexport const Login = () => {\r\n\tconst { auth } = useContext(AuthContext);\r\n\tconst [error, setError] = useState('');\r\n\tconst handleSubmit = async ev => {\r\n\t\tev.preventDefault();\r\n\t\tconst [emailInput, passwordInput] = ev.target.elements;\r\n\t\tconst email = emailInput.value;\r\n\t\tconst password = passwordInput.value;\r\n\t\tif (email.length > 0 && password.length > 0) {\r\n\t\t\tconst userInfo = await accountService.ApiLogin({ email, password });\r\n\t\t\tif (userInfo.error) {\r\n\t\t\t\tsetError(userInfo.error);\r\n\t\t\t} else {\r\n\t\t\t\tauth(userInfo);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetError('Email or password too short');\r\n\t\t}\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 h-full\" onSubmit={handleSubmit}>\r\n\t\t\t<h1 className=\"text-center font-black pb-2\">LOGIN</h1>\r\n\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t<label htmlFor=\"loginEmail\" className=\"block text-gray-700 text-sm font-bold mb-2\">Email Address</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tclassName=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n\t\t\t\t\tid=\"loginEmail\"\r\n\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t<label htmlFor=\"loginPassword\" className=\"block text-gray-700 text-sm font-bold mb-2\">Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tclassName=\"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n\t\t\t\t\tid=\"loginPassword\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<p className=\"text-danger text-center\">{error}</p>\r\n\t\t\t<div className=\"flex items-center justify-between\">\r\n\t\t\t\t<button type=\"submit\" className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}