{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import pageServices from'../services/pages';import download from'downloadjs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PageCard=function PageCard(_ref){var userId=_ref.userId,thumbnail=_ref.thumbnail,name=_ref.name,id=_ref.id;var _useState=useState(\"https://via.placeholder.com/200\"),_useState2=_slicedToArray(_useState,2),thumbnailSrc=_useState2[0],setThumbnailSrc=_useState2[1];useEffect(function(){console.log('thumbnail',thumbnail);import(\"../images/\".concat(thumbnail)).then(function(mod){return setThumbnailSrc(mod.default);});},[thumbnail]);var handleDownload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return pageServices.downloadPage(id);case 2:response=_context.sent;download(response.data,\"\".concat(name,\".html\"));case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleDownload(){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(userId,id);_context2.next=3;return pageServices.deletePage(userId,id);case 3:response=_context2.sent;console.log('response',response);if(response.status===200)window.location.reload();case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDelete(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between template-wrapper p-4 rounded bg-white rounded-md mb-4 shadow-2xl\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid object-scale-down\",src:thumbnailSrc,alt:\"thumbnail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"template-title text-center text-gray-900 text-sm uppercase font-black items-center mb-2 mt-3\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row items-center justify-content-center\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"ml-2 gradient2 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mt-2\",href:\"/page/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/ios-filled/50/000000/view-file.png\",width:\"17px\"}),\"View\"]}),/*#__PURE__*/_jsxs(\"a\",{className:\"ml-2 gradient2 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",onClick:handleDownload,children:[/*#__PURE__*/_jsx(\"svg\",{className:\"fill-current w-4 h-4 mr-2\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Download\"})]}),/*#__PURE__*/_jsxs(\"a\",{className:\"ml-2 gradient2 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",onClick:handleDelete,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/ios-filled/50/000000/trash.png\",width:\"17px\"}),\"Delete\"]})]})]})]});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/components/PageCard.js"],"names":["useEffect","useState","pageServices","download","PageCard","userId","thumbnail","name","id","thumbnailSrc","setThumbnailSrc","console","log","then","mod","default","handleDownload","downloadPage","response","data","handleDelete","deletePage","status","window","location","reload"],"mappings":"ijBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAqC,IAAlCC,CAAAA,MAAkC,MAAlCA,MAAkC,CAA1BC,SAA0B,MAA1BA,SAA0B,CAAfC,IAAe,MAAfA,IAAe,CAATC,EAAS,MAATA,EAAS,CAC5D,cAAwCP,QAAQ,CAAC,iCAAD,CAAhD,wCAAOQ,YAAP,eAAqBC,eAArB,eACAV,SAAS,CAAC,UAAM,CACfW,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBN,SAAzB,EACA,2BAAoBA,SAApB,GAAiCO,IAAjC,CAAsC,SAAAC,GAAG,QACxCJ,CAAAA,eAAe,CAACI,GAAG,CAACC,OAAL,CADyB,EAAzC,EAGA,CALQ,CAKN,CAACT,SAAD,CALM,CAAT,CAOA,GAAMU,CAAAA,cAAc,2FAAG,sKACCd,CAAAA,YAAY,CAACe,YAAb,CAA0BT,EAA1B,CADD,QAChBU,QADgB,eAEtBf,QAAQ,CAACe,QAAQ,CAACC,IAAV,WAAmBZ,IAAnB,UAAR,CAFsB,sDAAH,kBAAdS,CAAAA,cAAc,2CAApB,CAKA,GAAMI,CAAAA,YAAY,2FAAG,qJACpBT,OAAO,CAACC,GAAR,CAAYP,MAAZ,CAAoBG,EAApB,EADoB,uBAEGN,CAAAA,YAAY,CAACmB,UAAb,CAAwBhB,MAAxB,CAAgCG,EAAhC,CAFH,QAEdU,QAFc,gBAGpBP,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBM,QAAxB,EACA,GAAIA,QAAQ,CAACI,MAAT,GAAoB,GAAxB,CAA6BC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAJT,wDAAH,kBAAZL,CAAAA,YAAY,2CAAlB,CAOA,mBACC,aAAK,SAAS,CAAC,6GAAf,wBACC,YACC,SAAS,CAAC,6BADX,CAEC,GAAG,CAAEX,YAFN,CAGC,GAAG,CAAC,WAHL,EADD,cAMC,aAAK,SAAS,CAAC,6CAAf,wBACC,UAAG,SAAS,CAAC,8FAAb,UAA6GF,IAA7G,EADD,cAEC,aAAK,SAAS,CAAC,qDAAf,wBACC,WAAG,SAAS,CAAC,0GAAb,CAAwH,IAAI,iBAAWC,EAAX,CAA5H,wBACA,YAAK,GAAG,CAAC,2DAAT,CAAqE,KAAK,CAAC,MAA3E,EADA,UADD,cAKC,WAAG,SAAS,CAAC,qGAAb,CAAmH,OAAO,CAAEQ,cAA5H,wBACC,YAAK,SAAS,CAAC,2BAAf,CAA2C,KAAK,CAAC,4BAAjD,CAA8E,OAAO,CAAC,WAAtF,uBAAkG,aAAM,CAAC,CAAC,2CAAR,EAAlG,EADD,cAEC,kCAFD,GALD,cASC,WAAG,SAAS,CAAC,qGAAb,CAAmH,OAAO,CAAEI,YAA5H,wBACC,YAAK,GAAG,CAAC,uDAAT,CAAiE,KAAK,CAAC,MAAvE,EADD,YATD,GAFD,GAND,GADD,CA0BA,CA/CM","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport pageServices from '../services/pages';\r\nimport download from 'downloadjs'\r\n\r\nexport const PageCard = ({ userId, thumbnail, name, id }) => {\r\n\tconst [thumbnailSrc, setThumbnailSrc] = useState(\"https://via.placeholder.com/200\");\r\n\tuseEffect(() => {\r\n\t\tconsole.log('thumbnail', thumbnail)\r\n\t\timport(`../images/${thumbnail}`).then(mod =>\r\n\t\t\tsetThumbnailSrc(mod.default)\r\n\t\t);\r\n\t}, [thumbnail]);\r\n\r\n\tconst handleDownload = async () => {\r\n\t\tconst response = await pageServices.downloadPage(id)\r\n\t\tdownload(response.data, `${name}.html`);\r\n\t}\r\n\r\n\tconst handleDelete = async () => {\r\n\t\tconsole.log(userId, id)\r\n\t\tconst response = await pageServices.deletePage(userId, id)\r\n\t\tconsole.log('response', response)\r\n\t\tif (response.status === 200) window.location.reload();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex flex-column justify-content-between template-wrapper p-4 rounded bg-white rounded-md mb-4 shadow-2xl\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"img-fluid object-scale-down\"\r\n\t\t\t\tsrc={thumbnailSrc}\r\n\t\t\t\talt=\"thumbnail\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"d-flex flex-column divide-y divide-gray-200\">\r\n\t\t\t\t<p className=\"template-title text-center text-gray-900 text-sm uppercase font-black items-center mb-2 mt-3\">{name}</p>\r\n\t\t\t\t<div className=\"d-flex flex-row items-center justify-content-center\">\r\n\t\t\t\t\t<a className=\"ml-2 gradient2 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mt-2\" href={`/page/${id}`}>\r\n\t\t\t\t\t<img src=\"https://img.icons8.com/ios-filled/50/000000/view-file.png\" width=\"17px\"/>\r\n\t\t\t\t\t\tView\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"ml-2 gradient2 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" onClick={handleDownload}>\r\n\t\t\t\t\t\t<svg className=\"fill-current w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/></svg>\r\n\t\t\t\t\t\t<span>Download</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a className=\"ml-2 gradient2 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" onClick={handleDelete}>\r\n\t\t\t\t\t\t<img src=\"https://img.icons8.com/ios-filled/50/000000/trash.png\" width=\"17px\"/>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}