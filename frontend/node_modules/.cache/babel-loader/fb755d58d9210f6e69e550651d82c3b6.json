{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useState}from\"react\";import{AuthContext}from\"../context/AuthContext\";import accountService from\"../services/account\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Register=function Register(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useContext=useContext(AuthContext),auth=_useContext.auth;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ev){var _ev$target$elements,emailInput,usernameInput,passwordInput,confirmPasswordInput,email,password,confirmedPassword,username,userInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_ev$target$elements=_slicedToArray(ev.target.elements,4),emailInput=_ev$target$elements[0],usernameInput=_ev$target$elements[1],passwordInput=_ev$target$elements[2],confirmPasswordInput=_ev$target$elements[3];email=emailInput.value;password=passwordInput.value;confirmedPassword=confirmPasswordInput.value;username=usernameInput.value;console.log('email check',email);console.log('password check',password);console.log('confirmed password check',confirmedPassword);console.log('username check',username);if(!(email.length>0&&password.length>0&&confirmedPassword.length>0&&username.length>0)){_context.next=21;break;}if(!(password===confirmedPassword)){_context.next=18;break;}_context.next=14;return accountService.ApiRegister(email,username,password);case 14:userInfo=_context.sent;if(userInfo.error){setError(userInfo.error);}else{auth(userInfo);}_context.next=19;break;case 18:setError(\"Passwords do not match\");case 19:_context.next=22;break;case 21:setError(\"Email or password too short\");case 22:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 h-full\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center font-black pb-2\",children:\"REGISTER\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"registerEmail\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"registerEmail\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelpRegister\",className:\"form-text text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"registerUsername\",placeholder:\"@username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"registerPassword\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"registerPassword\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"registerConfirmPassword\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",id:\"registerConfirmPassword\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-center\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Register\"})})]});};","map":{"version":3,"sources":["/Users/gregpetropoulos/CodingBootcamp/Page-Builder-Project-3/frontend/src/components/Register.js"],"names":["useContext","useState","AuthContext","accountService","Register","error","setError","auth","handleSubmit","ev","preventDefault","target","elements","emailInput","usernameInput","passwordInput","confirmPasswordInput","email","value","password","confirmedPassword","username","console","log","length","ApiRegister","userInfo"],"mappings":"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","sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport accountService from \"../services/account\";\r\n\r\nexport const Register = () => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const { auth } = useContext(AuthContext);\r\n  const handleSubmit = async (ev) => {\r\n    ev.preventDefault();\r\n    const [emailInput, usernameInput, passwordInput, confirmPasswordInput] =\r\n      ev.target.elements;\r\n    const email = emailInput.value;\r\n    const password = passwordInput.value;\r\n    const confirmedPassword = confirmPasswordInput.value;\r\n    const username = usernameInput.value;\r\n    console.log('email check',email)\r\n    console.log('password check',password)\r\n    console.log('confirmed password check',confirmedPassword)\r\n    console.log('username check',username)\r\n    \r\n    if (\r\n      email.length > 0 &&\r\n      password.length > 0 &&\r\n      confirmedPassword.length > 0 &&\r\n      username.length > 0\r\n      ) {\r\n        if (password === confirmedPassword) {\r\n\r\n        const userInfo = await accountService.ApiRegister(email, username, password);\r\n        if (userInfo.error) {\r\n          setError(userInfo.error);\r\n        } else {\r\n          auth(userInfo);\r\n        }\r\n      } else {\r\n        setError(\"Passwords do not match\");\r\n      }\r\n    } else {\r\n      setError(\"Email or password too short\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 h-full\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <h1 className=\"text-center font-black pb-2\">REGISTER</h1>\r\n      <div className=\"mb-4\">\r\n        <label\r\n          htmlFor=\"registerEmail\"\r\n          className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n        >\r\n          Email Address\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"registerEmail\"\r\n          placeholder=\"Enter email\"\r\n        />\r\n        <small id=\"emailHelpRegister\" className=\"form-text text-muted\">\r\n          We'll never share your email with anyone else.\r\n        </small>\r\n      </div>\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n        htmlFor = 'username'>\r\n          Username\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"registerUsername\"\r\n          placeholder=\"@username\"\r\n        />\r\n      </div>\r\n      <div className=\"mb-4\">\r\n        <label\r\n          htmlFor=\"registerPassword\"\r\n          className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n        >\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"registerPassword\"\r\n          placeholder=\"Password\"\r\n        />\r\n      </div>\r\n      <div className=\"mb-6\">\r\n        <label\r\n          htmlFor=\"registerConfirmPassword\"\r\n          className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n        >\r\n          Confirm Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          className=\"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n          id=\"registerConfirmPassword\"\r\n          placeholder=\"Password\"\r\n        />\r\n      </div>\r\n      <p className=\"text-danger text-center\">{error}</p>\r\n      <div className=\"flex items-center justify-between\">\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n        >\r\n          Register\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}